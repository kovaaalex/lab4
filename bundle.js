(()=>{const e=document.querySelector("input"),t=document.getElementById("getWeather"),n=document.getElementById("weather"),a=document.getElementById("city-name"),i=document.getElementById("weather-details"),r="258df89376beaa1c83e56630a3cfa9bf";e.addEventListener("input",(function(){this.value=this.value.replace(/^\s+/,"")," "===this.value&&(this.value="")})),t.addEventListener("click",(async function(){const t=e.value.trim();if(t){n.style.display="none",a.textContent="",i.innerHTML="";try{const e=`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(t)}&limit=5&appid=${r}`,o=await fetch(e);if(!o.ok)throw new Error("Ошибка при поиске городов");const s=await o.json();if(!s.length)throw new Error("Города не найдены");const p=s.map((e=>{const t=`https://api.openweathermap.org/data/2.5/weather?lat=${e.lat}&lon=${e.lon}&units=metric&appid=${r}&lang=ru`;return fetch(t).then((e=>e.json()))}));!function(e,t){a.textContent=`Найдено городов: ${t.length}`;let r="";t.forEach(((t,n)=>{const a=e[n];r+=`\n            <div class="city-weather">\n                <h3>${a.name}, ${a.country} (${a.state||"—"})</h3>\n                <p>Температура: ${Math.round(t.main.temp)}°C</p>\n                <p>Ощущается как: ${Math.round(t.main.feels_like)}°C</p>\n                <p>Погода: ${t.weather[0].description}</p>\n                <p>Влажность: ${t.main.humidity}%</p>\n                <p>Ветер: ${Math.round(t.wind.speed)} м/с</p>\n                <p>Давление: ${Math.round(.75*t.main.pressure)} мм рт.ст.</p>\n                <img src="https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png" alt="${t.weather[0].main}">\n                <hr>\n            </div>\n        `})),i.innerHTML=r,n.style.display="block"}(s,await Promise.all(p))}catch(e){a.textContent="",i.innerHTML=`<p class="error-message">Ошибка: ${e.message}</p>`,n.style.display="block"}}}))})();
//# sourceMappingURL=bundle.js.map